webpackJsonp([8],{DMy4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"userPhoneLogin",data:function(){return{userPhones:"",codeMsg:"",userCode:"",userTypeCode:"",userLoginCode:"",isTestIndex:!0,userByCode:"",countDown:"获取验证码",timeCount:60,canClick:!0,paramData:this.$route.params.idTypeList}},methods:{getImageMessage:function(){var t=this;if(this.canClick){this.userPhones&&this.$http.post("/sendVercode",{userCode:this.userCode,userPhones:this.$store.getters.user.userPhones}).then(function(e){var s=e.data.status;s&&("success"==s?(t.userByCode=e.data.userByCode,t.mui.toast("验证码已发送",{duration:"short",type:"div"})):alert(s))},function(t){console.log(t)}),this.canClick=!1,this.countDown=this.timeCount+"s后重新发送";var e=window.setInterval(function(){t.timeCount--,t.countDown=t.timeCount+"s后重新发送",t.timeCount<0&&(window.clearInterval(e),t.countDown="获取验证码",t.timeCount=60,t.canClick=!0)},1e3)}},userLogin:function(){var t=this;this.codeMsg?this.$http.post("/checkedMessage",{userCode:this.userCode,userByCode:this.userByCode,codeMsg:this.codeMsg,userPhones:this.$store.getters.user.userPhones}).then(function(e){var s=e.data.status;console.log(e.data.msg),s&&("success"==s?t.$router.push({name:"Home",query:{userCode:t.userCode}}):alert(e.data.msg))},function(t){console.log(t)}):this.mui.alert("请输入验证码")},updataUserPhone:function(){this.userPhones&&this.$router.push({name:"UpdataUserPhone",params:{idTypeList:this.paramData}})}},created:function(){this.userPhones=this.$store.getters.user.userPhones,this.userPhones=this.userPhones.substr(0,3)+"****"+this.userPhones.substr(7,4),this.userCode=this.$store.getters.user.userCode,this.userTypeCode=this.$store.getters.user.userTypeCode,this.userLoginCode=this.$store.getters.user.userLoginCode}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"mui-content",staticStyle:{"margin-top":"3px"}},[s("form",{staticClass:"mui-input-group"},[s("div",{staticClass:"mui-input-row"},[s("label",[t._v("手机号码")]),t._v(" "),s("input",{staticClass:"mui-input-clear",attrs:{type:"text",id:"phone",readonly:""},domProps:{value:t.userPhones}}),t._v(" "),s("button",{staticClass:"mui-btn mui-btn-primary",attrs:{type:"button",id:"upBtn"},on:{click:t.updataUserPhone}},[t._v("修改")])]),t._v(" "),s("div",{staticClass:"mui-input-row"},[s("label",[t._v("验证码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.codeMsg,expression:"codeMsg"}],staticClass:"mui-input-clear",attrs:{type:"text",id:"tel",placeholder:"请输入验证码"},domProps:{value:t.codeMsg},on:{input:function(e){e.target.composing||(t.codeMsg=e.target.value)}}}),t._v(" "),s("button",{staticClass:"mui-btn mui-btn-primary mui-btn-outlined",attrs:{type:"button",id:"vercode"},on:{click:t.getImageMessage}},[t._v(t._s(t.countDown))])]),t._v(" "),s("div",{staticClass:"mui-button-row"},[s("button",{staticClass:"mui-btn mui-btn-primary",attrs:{type:"button",id:"loginBtn","data-loading-icon":"mui-spinner mui-spinner-custom","data-loading-text":"登录中..."},on:{click:t.userLogin}},[t._v("登录")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mui-bar mui-bar-nav"},[e("h1",{staticClass:"mui-title"},[this._v("用户登录")])])}]};var n=s("VU/8")(i,o,!1,function(t){s("nSfH")},"data-v-0b018a74",null);e.default=n.exports},nSfH:function(t,e){}});